<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             x:Class="VisualChallenge.VisualChallengePage"
             Shell.NavBarIsVisible="True"
             Shell.ShellBackgroundColor="Black"
             >

    <ContentPage.ToolbarItems>
        <ToolbarItem Icon="xamagon_preview"></ToolbarItem>
        <ToolbarItem Icon="xamagon_preview"></ToolbarItem>
    </ContentPage.ToolbarItems>
    
	<!-- If you decide to change out the flexlayout leave the scroll view here
		 Currently there's a bug in shell that will set margins wrong if the content is not in a scrollview
	-->
	
        <AbsoluteLayout HorizontalOptions="FillAndExpand" VerticalOptions="FillAndExpand">

        <ScrollView AbsoluteLayout.LayoutBounds="1, 1, 1, 1" AbsoluteLayout.LayoutFlags="All">

            <StackLayout Spacing="0" HorizontalOptions="FillAndExpand" AbsoluteLayout.LayoutBounds="1, 1, 1, 1" AbsoluteLayout.LayoutFlags="All" >

                <AbsoluteLayout  BackgroundColor="Black" HeightRequest="150" AbsoluteLayout.LayoutBounds="1, 1, 1, 1" AbsoluteLayout.LayoutFlags="All">

                <FlexLayout AbsoluteLayout.LayoutBounds="1, 1, -1, -1" AbsoluteLayout.LayoutFlags="PositionProportional" Padding="10, 0, 10, 60" HeightRequest="40" JustifyContent="End" AlignItems="Center">
                    <!--<Image BackgroundColor="Red" WidthRequest="30" Margin="20, 0, 0, 0" HeightRequest="30"></Image>-->
                </FlexLayout>

                <FlexLayout AbsoluteLayout.LayoutBounds="1, 1, -1, -1" AbsoluteLayout.LayoutFlags="PositionProportional" Padding="10, 0, 10, 10" HeightRequest="40" BackgroundColor="White" JustifyContent="End" AlignItems="Center">
                    <Image Source="xamagon_preview" WidthRequest="30" HeightRequest="30"></Image>
                    <Image Source="xamagon_preview" WidthRequest="30" Margin="20, 0, 0, 0" HeightRequest="30"></Image>
                    <Image Source="xamagon_preview" WidthRequest="30" Margin="20, 0, 0, 0" HeightRequest="30"></Image>
                </FlexLayout>
                <Frame Visual="Default" CornerRadius="10" Margin="10, 0, 0, 10" Padding="0" WidthRequest="120" HeightRequest="120"  AbsoluteLayout.LayoutBounds="0, 1, -1, -1" AbsoluteLayout.LayoutFlags="PositionProportional">
                    <Image Source="invisibila"></Image>
                </Frame>
            </AbsoluteLayout>

            <Frame HasShadow="False" Padding="0" Margin="10, 10, 10, 0" CornerRadius="10">
                <SearchBar Placeholder="Search episodes" BackgroundColor="LightGray"></SearchBar>
            </Frame>

            <StackLayout Orientation="Horizontal" Margin="10, 13, 10, 13">
                <Label VerticalOptions="Center"  Text="49 episodes &#8226; 2 archived"></Label>
                <Image HorizontalOptions="EndAndExpand" Source="xamagon_preview" WidthRequest="30" Margin="20, 0, 0, 0" HeightRequest="30"></Image>
            </StackLayout>

            <BoxView HeightRequest="1" BackgroundColor="LightGray"></BoxView>
            <StackLayout Margin="15, 10" Orientation="Horizontal">
                <StackLayout Orientation="Vertical" Spacing="2">
                    <Label Text="S5 E4 &#8226; FRIDAY" FontSize="11" ></Label>
                    <Label Text="The Remote Control Brain" TextColor="Black" FontSize="16"></Label>
                    <Label Text="47 min"></Label>
                </StackLayout>
                <Image WidthRequest="20" HeightRequest="20" Margin="15, 0" BackgroundColor="Gray" VerticalOptions="Center" HorizontalOptions="EndAndExpand"></Image>
                <Image WidthRequest="30" HeightRequest="30" Margin="15, 0, 0, 0" BackgroundColor="Gray" VerticalOptions="Center" HorizontalOptions="EndAndExpand"></Image>
            </StackLayout>

            <BoxView HeightRequest="1" BackgroundColor="LightGray"></BoxView>
            <StackLayout Margin="15, 10" Orientation="Horizontal">
                <StackLayout Orientation="Vertical" Spacing="2">
                    <Label Text="S5 E4 &#8226; FRIDAY" FontSize="11" ></Label>
                    <Label Text="The Remote Control Brain" TextColor="Black" FontSize="16"></Label>
                    <Label Text="47 min"></Label>
                </StackLayout>
                <Image WidthRequest="20" HeightRequest="20" Margin="15, 0" BackgroundColor="Gray" VerticalOptions="Center" HorizontalOptions="EndAndExpand"></Image>
                <Image WidthRequest="30" HeightRequest="30" Margin="15, 0, 0, 0" BackgroundColor="Gray" VerticalOptions="Center" HorizontalOptions="EndAndExpand"></Image>
            </StackLayout>

            <BoxView HeightRequest="1" BackgroundColor="LightGray"></BoxView>
            <StackLayout Margin="15, 10" Orientation="Horizontal">
                <StackLayout Orientation="Vertical" Spacing="2">
                    <Label Text="S5 E4 &#8226; FRIDAY" FontSize="11" ></Label>
                    <Label Text="The Remote Control Brain" TextColor="Black" FontSize="16"></Label>
                    <Label Text="47 min"></Label>
                </StackLayout>
                <Image WidthRequest="20" HeightRequest="20" Margin="15, 0" BackgroundColor="Gray" VerticalOptions="Center" HorizontalOptions="EndAndExpand"></Image>
                <Image WidthRequest="30" HeightRequest="30" Margin="15, 0, 0, 0" BackgroundColor="Gray" VerticalOptions="Center" HorizontalOptions="EndAndExpand"></Image>
            </StackLayout>

            <BoxView HeightRequest="1" BackgroundColor="LightGray"></BoxView>
            <StackLayout Margin="15, 10" Orientation="Horizontal">
                <StackLayout Orientation="Vertical" Spacing="2">
                    <Label Text="S5 E4 &#8226; FRIDAY" FontSize="11" ></Label>
                    <Label Text="The Remote Control Brain" TextColor="Black" FontSize="16"></Label>
                    <Label Text="47 min"></Label>
                </StackLayout>
                <Image WidthRequest="20" HeightRequest="20" Margin="15, 0" BackgroundColor="Gray" VerticalOptions="Center" HorizontalOptions="EndAndExpand"></Image>
                <Image WidthRequest="30" HeightRequest="30" Margin="15, 0, 0, 0" BackgroundColor="Gray" VerticalOptions="Center" HorizontalOptions="EndAndExpand"></Image>
            </StackLayout>

                <!--Spacer so that content will move past the fixed view-->
                <BoxView AbsoluteLayout.LayoutBounds="1, 1, 1, -1" AbsoluteLayout.LayoutFlags="PositionProportional,WidthProportional" HeightRequest="60"></BoxView>


            </StackLayout>

            

    </ScrollView>

        <StackLayout Spacing="0" AbsoluteLayout.LayoutBounds="1, 1, 1, -1" AbsoluteLayout.LayoutFlags="PositionProportional,WidthProportional">
            <Frame Margin="0, 0, 0, 0" CornerRadius="0" Visual="Default" BackgroundColor="White" Padding="10">
                <FlexLayout JustifyContent="SpaceBetween" AlignItems="Center">
                    <Image Margin="10, 0, 0, 0" Source="makingsense" WidthRequest="40" HeightRequest="40"></Image>
                    <Image Margin="20, 0, 0, 0" Source="xamagon_preview" WidthRequest="30" HeightRequest="30"></Image>
                    <Image Source="xamagon_preview" WidthRequest="40" HeightRequest="40"></Image>
                    <Image Margin="0, 0, 20, 0" Source="xamagon_preview" WidthRequest="30" HeightRequest="30"></Image>
                    <Image Margin="0, 0, 10, 0" Source="xamagon_preview" WidthRequest="30" HeightRequest="30" HorizontalOptions="EndAndExpand"></Image>
                </FlexLayout>
            </Frame>

            <AbsoluteLayout AbsoluteLayout.LayoutBounds="1, 1, 1, -1" AbsoluteLayout.LayoutFlags="PositionProportional,WidthProportional">
                <BoxView AbsoluteLayout.LayoutBounds="0, 0, 1, -1" AbsoluteLayout.LayoutFlags="WidthProportional" HeightRequest="4" BackgroundColor="LightGray"></BoxView>
                <BoxView AbsoluteLayout.LayoutBounds="0, 0, 1, -1" Margin="0, 0, 80, 0" AbsoluteLayout.LayoutFlags="WidthProportional" HeightRequest="4" BackgroundColor="DarkRed"></BoxView>
                <BoxView AbsoluteLayout.LayoutBounds="0, 0, 1, -1" Margin="0, 0, 120, 0" AbsoluteLayout.LayoutFlags="WidthProportional" HeightRequest="4" BackgroundColor="Red"></BoxView>
            </AbsoluteLayout>
        </StackLayout>

    </AbsoluteLayout>

    
</ContentPage>
